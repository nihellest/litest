{% extends 'tests/base.html' %}

{% block content %}
<div class="row">
    <div class="col s12">
        <h1>Тест на знание цитат</h1>
    </div>
</div>

<div class="row">
    <div class="col s3">
        <div class="card grey darken-3">
            <div class="card-content white-text">
                Ответы: {{ correct_count }} / {{ questions_count }}
            </div>
        </div>
    </div>
    <div class="col s9">
        {% if result %}
            {% if result.correct  %}
                <div class="card green darken-3">
                    <div class="card-content white-text">
                        Ответ "{{ result.correct_answer }}" верный!
                    </div>
                </div>
            {% else %}
                <div class="card red darken-3">
                    <div class="card-content white-text">
                        Ответ неверный, правильный ответ &mdash; "{{ result.correct_answer }}"
                    </div>
                </div
            {% endif %}
        {% else %}
        <div class="card grey darken-3">
            <div class="card-content white-text">
                &nbsp;
            </div></div>
        {% endif %}
    </div>
</div>
<div class="row">
    <div class="col s7">
        <span class="flow-text">
        {{ form.question.quote.text }}
        </span>
    </div>
    <div class="col s5 deep-purple darken-2">
        <div class="container">
        <form action="/test/quotes/" method="post">
            {% csrf_token %}
            {% for answer in form.answers %}
            <p>
                <label for="{{ answer.id_for_label }}">
                    {{ answer.tag }}
                    <span class="purple-text text-lighten-5">
                        {{ answer.choice_label }}
                    </span>
                </label>
            </p>
            {% endfor %}
            <p>
                <input type="submit" value="Проверить" class="waves-effect waves-light btn deep-purple lighten-2">
            </p>
            <input type="hidden" name="question_id" value="{{ form.question.id }}">
            <input type="hidden" name="correct_count" value="{{ correct_count }}">
            <input type="hidden" name="questions_count" value="{{ questions_count }}">
        </form></div>
    </div>
</div>

{% endblock content %}
